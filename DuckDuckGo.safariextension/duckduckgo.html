<!DOCTYPE html>
<html>
<head>
    <title>DuckDuckGo Bar</title>
    <style type="text/css">
        body {
            padding: 2px;
        }
        #searchBox {
            padding: 0;
            margin: 0;
        }
        #searchField {
            outline:none;
            width:350px;
            color:#222;
            background:#FFF;
            font-family:Century Gothic,Arial;
            font-size:18px;
            border:0 none;
            margin:0 0 0 2px;
            padding:0 5px;
            -webkit-border-radius: 15px;
        }
    </style>
</head>
<body>
<form method="GET" id="searchBox">
<a href="https://www.duckduckgo.com/"><img src="icon.png" width=20px height=20px></a><input id="searchField" type="text" name="q" style="">
<input type="submit" value="Duck Duck Go!" onclick="setAction()">
</form>
<script type="text/javascript">
function setAction() {
    var secure = safari.extension.settings.getItem("ddgSecure");
    if (secure) {
        document.forms[0].action = "https://duckduckgo.com";
    }
    else {
        document.forms[0].action = "http://duckduckgo.com";
    }
    return TRUE;
}
</script>
</body>
</html>
